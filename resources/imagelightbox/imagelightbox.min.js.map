{"version":3,"file":"imagelightbox.min.js","mappings":"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","sources":["webpack://imagelightbox/./src/imagelightbox.ts"],"sourcesContent":["var _a, _b, _c;\n// COMPONENTS //\nvar $activityObject = $(\"<div/>\")\n    .attr(\"class\", \"imagelightbox-loading\")\n    .append($(\"<div/>\")), $arrowLeftObject = $(\"<div/>\", {\n    class: \"imagelightbox-arrow imagelightbox-arrow-left\",\n}), $arrowRightObject = $(\"<div/>\", {\n    class: \"imagelightbox-arrow imagelightbox-arrow-right\",\n}), $arrows = $arrowLeftObject.add($arrowRightObject), $captionObject = $(\"<div/>\", {\n    class: \"imagelightbox-caption\",\n    html: \"&nbsp;\",\n}), $buttonObject = $(\"<div/>\", {\n    class: \"imagelightbox-close\",\n}), $overlayObject = $(\"<div/>\", {\n    class: \"imagelightbox-overlay\",\n}), $navItem = $(\"<a/>\", {\n    href: \"#\",\n    class: \"imagelightbox-navitem\",\n}), $navObject = $(\"<div/>\", {\n    class: \"imagelightbox-nav\",\n}), $wrapper = $(\"<div/>\", {\n    class: \"imagelightbox-wrapper\",\n}), $body = $(\"body\");\nvar cssTransitionSupport = function () {\n    var _a;\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    var s = ((_a = document.body) !== null && _a !== void 0 ? _a : document.documentElement)\n        .style;\n    if (s.transition === \"\") {\n        return \"\";\n    }\n    if (s.webkitTransition === \"\") {\n        return \"-webkit-\";\n    }\n    if (s.MozTransition === \"\") {\n        return \"-moz-\";\n    }\n    if (s.OTransition === \"\") {\n        return \"-o-\";\n    }\n    return null;\n}, hasCssTransitionSupport = cssTransitionSupport() !== null, cssTransitionTranslateX = function (element, positionX, speed) {\n    var _a;\n    var options = {}, prefix = (_a = cssTransitionSupport()) !== null && _a !== void 0 ? _a : \"\";\n    options[prefix + \"transform\"] =\n        \"translateX(\" + positionX + \") translateY(-50%)\";\n    options[prefix + \"transition\"] =\n        prefix + \"transform \" + speed.toString() + \"s ease-in\";\n    element.css(options);\n}, hasTouch = \"ontouchstart\" in window, navigator = window.navigator, hasPointers = navigator.pointerEnabled || navigator.msPointerEnabled, wasTouched = function (event) {\n    if (hasTouch) {\n        return true;\n    }\n    if (!hasPointers || typeof event.pointerType === \"undefined\") {\n        return false;\n    }\n    if (typeof event.MSPOINTER_TYPE_MOUSE !==\n        \"undefined\") {\n        if (event.MSPOINTER_TYPE_MOUSE !==\n            event.pointerType) {\n            return true;\n        }\n    }\n    else if (event.pointerType !== \"mouse\") {\n        return true;\n    }\n    return false;\n}, legacyDocument = document, hasFullscreenSupport = legacyDocument.fullscreenEnabled ||\n    ((_c = (_b = (_a = legacyDocument.webkitFullscreenEnabled) !== null && _a !== void 0 ? _a : legacyDocument.mozFullScreenEnabled) !== null && _b !== void 0 ? _b : legacyDocument.msFullscreenEnabled) !== null && _c !== void 0 ? _c : false), hasHistorySupport = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nwindow.history !== undefined && history.pushState !== undefined;\n$.fn.imageLightbox = function (opts) {\n    var currentIndex = 0;\n    var image = $();\n    var inProgress = false;\n    var swipeDiff = 0;\n    var target = $();\n    var targetIndex = -1;\n    var targets = $([]);\n    var targetSet = \"\";\n    var videos = [], options = $.extend({\n        selector: \"a[data-imagelightbox]\",\n        id: \"imagelightbox\",\n        allowedTypes: \"png|jpg|jpeg|gif\",\n        animationSpeed: 250,\n        activity: false,\n        arrows: false,\n        button: false,\n        caption: false,\n        enableKeyboard: true,\n        history: false,\n        fullscreen: false,\n        gutter: 10,\n        offsetY: 0,\n        navigation: false,\n        overlay: false,\n        preloadNext: true,\n        quitOnEnd: false,\n        quitOnImgClick: false,\n        quitOnDocClick: true,\n        quitOnEscKey: true,\n    }, opts), _onStart = function () {\n        if (options.arrows) {\n            arrowsOn();\n        }\n        if (options.navigation) {\n            navigationOn();\n        }\n        if (options.overlay) {\n            overlayOn();\n        }\n        if (options.button) {\n            closeButtonOn();\n        }\n        if (options.caption) {\n            $wrapper.append($captionObject);\n        }\n    }, _onLoadStart = function () {\n        if (options.activity) {\n            activityIndicatorOn();\n        }\n        if (options.caption) {\n            captionReset();\n        }\n    }, _onLoadEnd = function () {\n        if (options.activity) {\n            activityIndicatorOff();\n        }\n        if (options.arrows) {\n            $arrows.css(\"display\", \"block\");\n        }\n    }, _addQueryField = function (query, key, value) {\n        var newField = key + \"=\" + value;\n        var newQuery = \"?\" + newField;\n        if (query) {\n            var keyRegex = new RegExp(\"([?&])\" + key + \"=[^&]*\");\n            if (keyRegex.exec(query) !== null) {\n                newQuery = query.replace(keyRegex, \"$1\" + newField);\n            }\n            else {\n                newQuery = query + \"&\" + newField;\n            }\n        }\n        return newQuery;\n    }, _pushToHistory = function () {\n        var _a;\n        if (!hasHistorySupport || !options.history) {\n            return;\n        }\n        var newIndex = (_a = targets[targetIndex].dataset.ilb2Id) !== null && _a !== void 0 ? _a : targetIndex.toString();\n        var newState = {\n            imageLightboxIndex: newIndex,\n            imageLightboxSet: \"\",\n        };\n        var set = targets[targetIndex].dataset.imagelightbox;\n        var newQuery = _addQueryField(document.location.search, \"imageLightboxIndex\", newIndex);\n        if (set !== undefined) {\n            newState.imageLightboxSet = set;\n            newQuery = _addQueryField(newQuery, \"imageLightboxSet\", set);\n        }\n        window.history.pushState(newState, \"\", document.location.pathname + newQuery);\n    }, _removeQueryField = function (query, key) {\n        var newQuery = query;\n        if (newQuery) {\n            var keyRegex1 = new RegExp(\"\\\\?\" + key + \"=[^&]*\");\n            var keyRegex2 = new RegExp(\"&\" + key + \"=[^&]*\");\n            newQuery = newQuery.replace(keyRegex1, \"?\");\n            newQuery = newQuery.replace(keyRegex2, \"\");\n        }\n        return newQuery;\n    }, _pushQuitToHistory = function () {\n        if (!hasHistorySupport || !options.history) {\n            return;\n        }\n        var newQuery = _removeQueryField(document.location.search, \"imageLightboxIndex\");\n        newQuery = _removeQueryField(newQuery, \"imageLightboxSet\");\n        window.history.pushState({}, \"\", document.location.pathname + newQuery);\n    }, _getQueryField = function (key) {\n        var keyValuePair = new RegExp(\"[?&]\" + key + \"(=([^&#]*)|&|#|$)\").exec(document.location.search);\n        if ((keyValuePair === null || keyValuePair === void 0 ? void 0 : keyValuePair[2]) === undefined) {\n            return undefined;\n        }\n        return decodeURIComponent(keyValuePair[2].replace(/\\+/g, \" \"));\n    }, _openHistory = function () {\n        if (!hasHistorySupport || !options.history) {\n            return;\n        }\n        var id = _getQueryField(\"imageLightboxIndex\");\n        if (id === undefined) {\n            return;\n        }\n        var element = targets.filter('[data-ilb2-id=\"' + id + '\"]');\n        if (element.length > 0) {\n            targetIndex = targets.index(element);\n        }\n        else {\n            targetIndex = parseInt(id);\n            element = $(targets[targetIndex]);\n        }\n        var set = _getQueryField(\"imageLightboxSet\");\n        if (element.length === 0 ||\n            (set !== undefined && set !== element[0].dataset.imagelightbox)) {\n            return;\n        }\n        _openImageLightbox(element, true);\n    }, _popHistory = function (event) {\n        var newState = event.originalEvent.state;\n        if (!newState) {\n            _quitImageLightbox(true);\n            return;\n        }\n        var newId = newState.imageLightboxIndex;\n        if (newId === undefined) {\n            _quitImageLightbox(true);\n            return;\n        }\n        var element = targets.filter('[data-ilb2-id=\"' + newId + '\"]');\n        if (element.length === 0 ||\n            (newState.imageLightboxSet !== undefined &&\n                newState.imageLightboxSet !==\n                    element[0].dataset.imagelightbox)) {\n            return;\n        }\n        if (targetIndex < 0) {\n            _openImageLightbox(element, true);\n            return;\n        }\n        var newIndex = targets.index(element);\n        var direction = +1;\n        if (newIndex > targetIndex) {\n            direction = -1;\n        }\n        target = element;\n        targetIndex = newIndex;\n        _loadImage(direction);\n    }, _previousTarget = function () {\n        if (inProgress) {\n            return;\n        }\n        targetIndex--;\n        if (targetIndex < 0) {\n            if (options.quitOnEnd) {\n                _quitImageLightbox();\n                return;\n            }\n            else {\n                targetIndex = targets.length - 1;\n            }\n        }\n        target = targets.eq(targetIndex);\n        _pushToHistory();\n        $wrapper.trigger(\"previous.ilb2\", target);\n        _loadImage(+1);\n    }, _nextTarget = function () {\n        if (inProgress) {\n            return;\n        }\n        targetIndex++;\n        if (targetIndex >= targets.length) {\n            if (options.quitOnEnd) {\n                _quitImageLightbox();\n                return;\n            }\n            else {\n                targetIndex = 0;\n            }\n        }\n        _pushToHistory();\n        target = targets.eq(targetIndex);\n        $wrapper.trigger(\"next.ilb2\", target);\n        _loadImage(-1);\n    }, activityIndicatorOn = function () {\n        $wrapper.append($activityObject);\n    }, activityIndicatorOff = function () {\n        $(\".imagelightbox-loading\").remove();\n    }, overlayOn = function () {\n        $wrapper.append($overlayObject);\n    }, closeButtonOn = function () {\n        $buttonObject\n            .appendTo($wrapper)\n            .on(\"click.ilb7\", function () {\n            _quitImageLightbox();\n            return false;\n        });\n    }, captionReset = function () {\n        $captionObject.css(\"opacity\", \"0\");\n        $captionObject.html(\"&nbsp;\");\n        if ($(target).data(\"ilb2-caption\") !== undefined) {\n            $captionObject.css(\"opacity\", \"1\");\n            $captionObject.html($(target).data(\"ilb2-caption\"));\n        }\n        else if ($(target).find(\"img\").attr(\"alt\") !== undefined) {\n            $captionObject.css(\"opacity\", \"1\");\n            $captionObject.html($(target).find(\"img\").attr(\"alt\"));\n        }\n    }, navigationOn = function () {\n        if (!targets.length) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (var i = 0; i < targets.length; i++) {\n            $navObject.append($navItem.clone());\n        }\n        var $navItems = $navObject.children(\"a\");\n        $navItems.eq(targets.index(target)).addClass(\"active\");\n        $wrapper.on(\"previous.ilb2 next.ilb2\", function () {\n            $navItems\n                .removeClass(\"active\")\n                .eq(targets.index(target))\n                .addClass(\"active\");\n        });\n        $wrapper.append($navObject);\n        $navObject\n            .on(\"click.ilb7 touchend.ilb7\", function () {\n            return false;\n        })\n            .on(\"click.ilb7 touchend.ilb7\", \"a\", function () {\n            var $this = $(this);\n            if (targets.eq($this.index()).attr(\"href\") !==\n                $(\".imagelightbox\").attr(\"src\")) {\n                var tmpTarget = targets.eq($this.index());\n                if (tmpTarget.length) {\n                    currentIndex = targets.index(target);\n                    target = tmpTarget;\n                    _loadImage($this.index() < currentIndex ? -1 : 1);\n                }\n            }\n            $this.addClass(\"active\").siblings().removeClass(\"active\");\n        });\n    }, arrowsOn = function () {\n        $wrapper.append($arrows);\n        $arrows.on(\"click.ilb7 touchend.ilb7\", function (e) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            if ($(this).hasClass(\"imagelightbox-arrow-left\")) {\n                _previousTarget();\n            }\n            else {\n                _nextTarget();\n            }\n        });\n    }, isTargetValid = function (element) {\n        // eslint-disable-next-line\n        return $(element).prop('tagName').toLowerCase() === 'a' && ((new RegExp('\\.(' + options.allowedTypes + ')$', 'i')).test($(element).attr('href')) || $(element).data('ilb2Video'));\n    }, _setImage = function () {\n        if (!image.length) {\n            return;\n        }\n        var captionHeight = options.caption\n            ? $captionObject.outerHeight()\n            : 0, screenWidth = $(window).width(), screenHeight = $(window).height() - captionHeight, gutterFactor = Math.abs(1 - options.gutter / 100);\n        function setSizes(imageWidth, imageHeight) {\n            if (imageWidth > screenWidth || imageHeight > screenHeight) {\n                var ratio = imageWidth / imageHeight > screenWidth / screenHeight\n                    ? imageWidth / screenWidth\n                    : imageHeight / screenHeight;\n                imageWidth /= ratio;\n                imageHeight /= ratio;\n            }\n            var cssHeight = imageHeight * gutterFactor, cssWidth = imageWidth * gutterFactor, cssLeft = ($(window).width() - cssWidth) / 2;\n            image.css({\n                width: cssWidth.toString() + \"px\",\n                height: cssHeight.toString() + \"px\",\n                left: cssLeft.toString() + \"px\",\n            });\n        }\n        var videoId = image.data(\"ilb2VideoId\");\n        var videoHasDimensions = false;\n        $.each(videos, function (_, video) {\n            if (videoId === this.i) {\n                setSizes(video.w, video.h);\n                videoHasDimensions = true;\n            }\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        if (videoHasDimensions) {\n            return;\n        }\n        var videoElement = image.get(0);\n        if (videoElement.videoWidth !== undefined) {\n            setSizes(videoElement.videoWidth, videoElement.videoHeight);\n            return;\n        }\n        var tmpImage = new Image();\n        tmpImage.src = image.attr(\"src\");\n        tmpImage.onload = function () {\n            setSizes(tmpImage.width, tmpImage.height);\n        };\n    }, _loadImage = function (direction) {\n        if (inProgress) {\n            return;\n        }\n        if (image.length) {\n            var params = { opacity: 0 };\n            if (hasCssTransitionSupport) {\n                cssTransitionTranslateX(image, (100 * direction - swipeDiff).toString() + \"px\", options.animationSpeed / 1000);\n            }\n            else {\n                params.left =\n                    (parseInt(image.css(\"left\")) +\n                        100 * direction).toString() + \"px\";\n            }\n            image.animate(params, options.animationSpeed, function () {\n                _removeImage();\n            });\n            swipeDiff = 0;\n        }\n        inProgress = true;\n        _onLoadStart();\n        setTimeout(function () {\n            var swipeStart = 0;\n            var swipeEnd = 0;\n            var imagePosLeft = 0;\n            var imgPath = target.attr(\"href\");\n            // if (imgPath === undefined) {\n            //     imgPath = target.attr('data-lightbox');\n            // }\n            var videoOptions = target.data(\"ilb2Video\");\n            var element = $();\n            var preloadedVideo;\n            if (videoOptions) {\n                $.each(videos, function (_, video) {\n                    if (video.i === target.data(\"ilb2VideoId\")) {\n                        preloadedVideo = video.l;\n                        element = video.e;\n                        if (video.a !== undefined) {\n                            if (preloadedVideo) {\n                                void element.get(0).play();\n                            }\n                            else {\n                                element.attr(\"autoplay\", video.a);\n                            }\n                        }\n                    }\n                });\n            }\n            else {\n                element = $(\"<img id='\" + options.id + \"' />\").attr(\"src\", imgPath);\n            }\n            function onload() {\n                var params = { opacity: 1 };\n                image.appendTo($wrapper);\n                _setImage();\n                image.css(\"opacity\", 0);\n                if (hasCssTransitionSupport) {\n                    cssTransitionTranslateX(image, (-100 * direction).toString() + \"px\", 0);\n                    setTimeout(function () {\n                        cssTransitionTranslateX(image, \"0px\", options.animationSpeed / 1000);\n                    }, 50);\n                }\n                else {\n                    imagePosLeft = parseInt(image.css(\"left\"));\n                    params.left = imagePosLeft.toString() + \"px\";\n                    image.css(\"left\", (imagePosLeft - 100 * direction).toString() + \"px\");\n                }\n                image.animate(params, options.animationSpeed, function () {\n                    inProgress = false;\n                    _onLoadEnd();\n                });\n                if (options.preloadNext) {\n                    var nextTarget = targets.eq(targets.index(target) + 1);\n                    if (!nextTarget.length) {\n                        nextTarget = targets.eq(0);\n                    }\n                    $(\"<img />\").attr(\"src\", nextTarget.attr(\"href\"));\n                }\n                $wrapper.trigger(\"loaded.ilb2\");\n            }\n            function onclick(e) {\n                e.preventDefault();\n                if (options.quitOnImgClick) {\n                    _quitImageLightbox();\n                    return;\n                }\n                if (wasTouched(e.originalEvent)) {\n                    return;\n                }\n                var posX = (e.pageX || e.originalEvent.pageX) -\n                    e.target.offsetLeft;\n                if (e.target.width / 3 > posX) {\n                    _previousTarget();\n                }\n                else {\n                    _nextTarget();\n                }\n            }\n            image = element\n                .on(\"load.ilb7\", onload)\n                .on(\"error.ilb7\", function () {\n                _onLoadEnd();\n            })\n                .on(\"touchstart.ilb7 pointerdown.ilb7 MSPointerDown.ilb7\", function (e) {\n                if (!wasTouched(e.originalEvent) ||\n                    options.quitOnImgClick) {\n                    return;\n                }\n                if (hasCssTransitionSupport) {\n                    imagePosLeft = parseInt(image.css(\"left\"));\n                }\n                swipeStart =\n                    e.originalEvent.pageX ||\n                        e.originalEvent.touches[0]\n                            .pageX;\n            })\n                .on(\"touchmove.ilb7 pointermove.ilb7 MSPointerMove.ilb7\", function (e) {\n                if ((!hasPointers && e.type === \"pointermove\") ||\n                    !wasTouched(e.originalEvent) ||\n                    options.quitOnImgClick) {\n                    return;\n                }\n                e.preventDefault();\n                swipeEnd =\n                    e.originalEvent.pageX ||\n                        e.originalEvent.touches[0]\n                            .pageX;\n                swipeDiff = swipeStart - swipeEnd;\n                if (hasCssTransitionSupport) {\n                    cssTransitionTranslateX(image, (-swipeDiff).toString() + \"px\", 0);\n                }\n                else {\n                    image.css(\"left\", (imagePosLeft - swipeDiff).toString() +\n                        \"px\");\n                }\n            })\n                .on(\"touchend.ilb7 touchcancel.ilb7 pointerup.ilb7 pointercancel.ilb7 MSPointerUp.ilb7 MSPointerCancel.ilb7\", function (e) {\n                if (!wasTouched(e.originalEvent) ||\n                    options.quitOnImgClick) {\n                    return;\n                }\n                if (Math.abs(swipeDiff) > 50) {\n                    if (swipeDiff < 0) {\n                        _previousTarget();\n                    }\n                    else {\n                        _nextTarget();\n                    }\n                }\n                else {\n                    if (hasCssTransitionSupport) {\n                        cssTransitionTranslateX(image, \"0px\", options.animationSpeed / 1000);\n                    }\n                    else {\n                        image.animate({\n                            left: imagePosLeft.toString() + \"px\",\n                        }, options.animationSpeed / 2);\n                    }\n                }\n            });\n            if (preloadedVideo === true) {\n                onload();\n            }\n            else if (preloadedVideo === false) {\n                image = image.on(\"loadedmetadata.ilb7\", onload);\n            }\n            if (!videoOptions) {\n                image = image.on(hasPointers\n                    ? \"pointerup.ilb7 MSPointerUp.ilb7\"\n                    : \"click.ilb7\", onclick);\n            }\n        }, options.animationSpeed + 100);\n    }, _removeImage = function () {\n        if (!image.length) {\n            return;\n        }\n        image.remove();\n        image = $();\n    }, _openImageLightbox = function ($target, noHistory) {\n        if (inProgress) {\n            return;\n        }\n        inProgress = false;\n        target = $target;\n        targetIndex = targets.index(target);\n        if (!noHistory) {\n            _pushToHistory();\n        }\n        _onStart();\n        $body.append($wrapper).addClass(\"imagelightbox-open\");\n        $wrapper.trigger(\"start.ilb2\", $target);\n        _loadImage(0);\n    }, _quitImageLightbox = function (noHistory) {\n        if (noHistory === void 0) { noHistory = false; }\n        targetIndex = -1;\n        if (!noHistory) {\n            _pushQuitToHistory();\n        }\n        $wrapper.trigger(\"quit.ilb2\");\n        $body.removeClass(\"imagelightbox-open\");\n        if (!image.length) {\n            return;\n        }\n        image.animate({ opacity: 0 }, options.animationSpeed, function () {\n            _removeImage();\n            inProgress = false;\n            $wrapper.remove().find(\"*\").remove();\n        });\n    }, _addTargets = function (newTargets) {\n        newTargets.each(function () {\n            targets = newTargets.add($(this));\n        });\n        newTargets.on(\"click.ilb7\", { set: targetSet }, function (e) {\n            e.preventDefault();\n            targetSet = $(e.currentTarget).data(\"imagelightbox\");\n            filterTargets();\n            if (targets.length < 1) {\n                _quitImageLightbox();\n            }\n            else {\n                _openImageLightbox($(this), false);\n            }\n        });\n        function filterTargets() {\n            newTargets\n                .filter(function () {\n                return $(this).data(\"imagelightbox\") === targetSet;\n            })\n                .filter(function () {\n                return isTargetValid($(this));\n            })\n                .each(function () {\n                targets = targets.add($(this));\n            });\n        }\n    }, _preloadVideos = function (elements) {\n        elements.each(function () {\n            var videoOptions = $(this).data(\"ilb2Video\");\n            if (videoOptions) {\n                var id = $(this).data(\"ilb2Id\");\n                if (!id) {\n                    // Random id\n                    id =\n                        \"a\" +\n                            (((1 + Math.random()) * 0x10000) | 0).toString(16);\n                }\n                $(this).data(\"ilb2VideoId\", id);\n                var container_1 = {\n                    e: $(\"<video id='\" +\n                        options.id +\n                        \"' preload='metadata' data-ilb2-video-id='\" +\n                        id +\n                        \"'>\"),\n                    i: id,\n                    l: false,\n                    a: undefined,\n                    h: undefined,\n                    w: undefined,\n                };\n                $.each(videoOptions, function (key, value) {\n                    switch (key) {\n                        case \"autoplay\":\n                            container_1.a = value;\n                            break;\n                        case \"height\":\n                            container_1.h = value;\n                            break;\n                        case \"sources\":\n                            break;\n                        case \"width\":\n                            container_1.w = value;\n                            break;\n                        default:\n                            // TODO: Remove this general behaviour\n                            container_1.e = container_1.e.attr(key, value);\n                    }\n                });\n                if (videoOptions.sources) {\n                    $.each(videoOptions.sources, function (_, source) {\n                        var sourceElement = $(\"<source>\");\n                        $.each(source, function (key, value) {\n                            // TODO: Remove this general behaviour\n                            sourceElement = sourceElement.attr(key, value);\n                        });\n                        container_1.e.append(sourceElement);\n                    });\n                }\n                container_1.e.on(\"loadedmetadata.ilb7\", function () {\n                    container_1.l = true;\n                });\n                videos.push(container_1);\n            }\n        });\n    };\n    $(window).on(\"resize.ilb7\", _setImage);\n    if (hasHistorySupport && options.history) {\n        $(window).on(\"popstate\", _popHistory);\n    }\n    $(document).ready(function () {\n        if (options.quitOnDocClick) {\n            $(document).on(hasTouch ? \"touchend.ilb7\" : \"click.ilb7\", function (e) {\n                if (image.length && !$(e.target).is(image)) {\n                    e.preventDefault();\n                    _quitImageLightbox();\n                }\n            });\n        }\n        if (options.fullscreen && hasFullscreenSupport) {\n            $(document).on(\"keydown.ilb7\", function (e) {\n                if (!image.length) {\n                    return;\n                }\n                if ([9, 32, 38, 40].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                }\n                if ([13].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    toggleFullScreen();\n                }\n            });\n        }\n        if (options.enableKeyboard) {\n            $(document).on(\"keydown.ilb7\", function (e) {\n                if (!image.length) {\n                    return;\n                }\n                if ([27].includes(e.which) && options.quitOnEscKey) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    _quitImageLightbox();\n                }\n                if ([37].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    _previousTarget();\n                }\n                if ([39].includes(e.which)) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    _nextTarget();\n                }\n            });\n        }\n    });\n    function toggleFullScreen() {\n        var doc = window.document;\n        var docEl = document.getElementById(options.id)\n            .parentElement;\n        /* eslint-disable @typescript-eslint/no-unnecessary-condition, @typescript-eslint/strict-boolean-expressions, @typescript-eslint/unbound-method */\n        var requestFullScreen = docEl.requestFullscreen ||\n            docEl.mozRequestFullScreen ||\n            docEl.webkitRequestFullScreen ||\n            docEl.msRequestFullscreen;\n        var exitFullScreen = doc.exitFullscreen ||\n            doc.mozCancelFullScreen ||\n            doc.webkitExitFullscreen ||\n            doc.msExitFullscreen;\n        /* eslint-enable */\n        if (!doc.fullscreenElement &&\n            !doc.mozFullScreenElement &&\n            !doc.webkitFullscreenElement &&\n            !doc.msFullscreenElement) {\n            void requestFullScreen.call(docEl);\n        }\n        else {\n            void exitFullScreen.call(doc);\n        }\n    }\n    $(document).off(\".ilb7 .ilb2\", options.selector);\n    _addTargets($(this));\n    _openHistory();\n    _preloadVideos(targets);\n    this.addToImageLightbox = function (elements) {\n        _addTargets(elements);\n        _preloadVideos(elements);\n    };\n    this.openHistory = function () {\n        _openHistory();\n    };\n    this.loadPreviousImage = function () {\n        _previousTarget();\n    };\n    this.loadNextImage = function () {\n        _nextTarget();\n    };\n    this.quitImageLightbox = function () {\n        _quitImageLightbox();\n        return this;\n    };\n    this.startImageLightbox = function (element) {\n        if (element) {\n            element.trigger(\"click.ilb7\");\n        }\n        else {\n            $(this).trigger(\"click.ilb7\");\n        }\n    };\n    return this;\n};\nexport {};\n"],"names":["_a","_b","_c","$activityObject","$","attr","append","$arrowLeftObject","class","$arrowRightObject","$arrows","add","$captionObject","html","$buttonObject","$overlayObject","$navItem","href","$navObject","$wrapper","$body","cssTransitionSupport","s","document","body","documentElement","style","transition","webkitTransition","MozTransition","OTransition","hasCssTransitionSupport","cssTransitionTranslateX","element","positionX","speed","options","prefix","toString","css","hasTouch","window","navigator","hasPointers","pointerEnabled","msPointerEnabled","wasTouched","event","pointerType","MSPOINTER_TYPE_MOUSE","legacyDocument","hasFullscreenSupport","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","hasHistorySupport","undefined","history","pushState","fn","imageLightbox","opts","currentIndex","image","inProgress","swipeDiff","target","targetIndex","targets","targetSet","videos","extend","selector","id","allowedTypes","animationSpeed","activity","arrows","button","caption","enableKeyboard","fullscreen","gutter","offsetY","navigation","overlay","preloadNext","quitOnEnd","quitOnImgClick","quitOnDocClick","quitOnEscKey","_onLoadEnd","activityIndicatorOff","_addQueryField","query","key","value","newField","newQuery","keyRegex","RegExp","exec","replace","_pushToHistory","newIndex","dataset","ilb2Id","newState","imageLightboxIndex","imageLightboxSet","set","imagelightbox","location","search","pathname","_removeQueryField","keyRegex1","keyRegex2","_getQueryField","keyValuePair","decodeURIComponent","_openHistory","filter","length","index","parseInt","_openImageLightbox","_previousTarget","_quitImageLightbox","eq","trigger","_loadImage","_nextTarget","activityIndicatorOn","remove","overlayOn","closeButtonOn","appendTo","on","captionReset","data","find","navigationOn","i","clone","$navItems","children","addClass","removeClass","$this","this","tmpTarget","siblings","arrowsOn","e","stopImmediatePropagation","preventDefault","hasClass","_setImage","captionHeight","outerHeight","screenWidth","width","screenHeight","height","gutterFactor","Math","abs","videoId","videoHasDimensions","each","_","video","setSizes","w","h","videoElement","get","videoWidth","tmpImage","Image","src","onload","videoHeight","imageWidth","imageHeight","ratio","cssHeight","cssWidth","cssLeft","left","direction","params","opacity","animate","_removeImage","setTimeout","preloadedVideo","swipeStart","swipeEnd","imagePosLeft","imgPath","videoOptions","nextTarget","l","a","play","originalEvent","pageX","touches","type","posX","offsetLeft","$target","noHistory","_pushQuitToHistory","_addTargets","newTargets","currentTarget","prop","toLowerCase","test","_preloadVideos","elements","random","container_1","sources","source","sourceElement","push","state","newId","ready","is","doc","docEl","requestFullScreen","exitFullScreen","includes","which","stopPropagation","getElementById","parentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","call","off","addToImageLightbox","openHistory","loadPreviousImage","loadNextImage","quitImageLightbox","startImageLightbox"],"sourceRoot":""}